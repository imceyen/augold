<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Ï£ºÎ¨∏ ÎÇ¥Ïó≠ | AuGold</title>
    <!-- SweetAlert2 CDN Ï∂îÍ∞Ä -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- Google Fonts Î∞è Material Symbols ÏïÑÏù¥ÏΩò ÎùºÏù¥Î∏åÎü¨Î¶¨ -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap">
    <!-- üî• ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ: Material Symbols ÏïÑÏù¥ÏΩò ÎùºÏù¥Î∏åÎü¨Î¶¨ Ï∂îÍ∞Ä -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

    <style>
        * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
     }

     body {
         font-family: 'Arial', sans-serif;
         background-color: #f9fafb;
         color: #374151;
         line-height: 1.6;
     }

     /* --- Ìó§Îçî --- */
     .header-container {
         max-width: 1200px;
         margin: 0 auto;
         padding: 0 20px;
     }

     header {
         background: white;
         box-shadow: 0 1px 3px rgba(0,0,0,0.1);
         border-bottom: 1px solid #e5e7eb;
         position: sticky;
         top: 0;
         z-index: 100;
         font-family: 'Arial', sans-serif;
     }

     .header-content {
         display: flex;
         align-items: center;
         justify-content: space-between;
         padding: 16px 0;
     }

     /* Î°úÍ≥† ÏÑπÏÖò */
     .logo-section {
         display: flex;
         align-items: center;
         gap: 12px;
         text-decoration: none;
         transition: opacity 0.2s;
     }

     .logo-section:hover {
         opacity: 0.8;
     }

     .logo-icon {
         width: 40px;
         height: 40px;
         background:
             radial-gradient(circle at 30% 30%, #fff 2px, transparent 2px),
             linear-gradient(135deg, #ffd700, #ffb300, #ff8c00);
         border-radius: 50%;
         display: flex;
         align-items: center;
         justify-content: center;
         position: relative;
         border: 2px solid #ff8c00;
         animation: iconPulse 2s infinite;
     }

     .logo-icon span {
         font-size: 18px;
         color: #8b4513;
         font-weight: bold;
         text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
     }

     @keyframes iconPulse {
         0%, 100% { transform: scale(1); }
         50% { transform: scale(1.05); }
     }

     .logo-text h1 {
         font-size: 24px;
         font-weight: bold;
         background: linear-gradient(45deg, #ffd700, #ffb300, #ffd700, #ffb300);
         background-size: 400% 400%;
         -webkit-background-clip: text;
         -webkit-text-fill-color: transparent;
         background-clip: text;
         margin: 0;
         line-height: 1.2;
         font-family: 'Arial', sans-serif;
         animation: shimmer 3s ease-in-out infinite;
         text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
     }

     @keyframes shimmer {
         0%, 100% { background-position: 0% 50%; }
         50% { background-position: 100% 50%; }
     }

     .logo-text p {
         font-size: 12px;
         color: #6b7280;
         margin: 0;
         font-family: 'Arial', sans-serif;
     }

     /* ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò ÏÑπÏÖò */
     .nav-section {
         display: flex;
         gap: 32px;
         align-items: center;
     }

     .nav-section a,
     .nav-section .nav-text {
         color: #374151;
         text-decoration: none;
         font-weight: 500;
         transition: color 0.2s;
         position: relative;
         font-family: 'Arial', sans-serif;
         font-size: 16px;
     }

     .nav-section a:hover {
         color: #d97706;
     }

     /* Ïû•Î∞îÍµ¨Îãà Î∞∞ÏßÄ */
     .cart-badge {
         position: absolute;
         top: -8px;
         right: -8px;
         background: #ef4444;
         color: white;
         font-size: 12px;
         border-radius: 50%;
         width: 20px;
         height: 20px;
         display: flex;
         align-items: center;
         justify-content: center;
     }

     .hidden {
         display: none;
     }

     /* Î°úÍ≥† ÏÑπÏÖò Ìò∏Î≤Ñ Ìö®Í≥º */
     .logo-section:hover .logo-icon {
         animation: iconPulse 1s infinite;
         box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
     }

     .logo-section:hover .logo-text h1 {
         animation: shimmer 1.5s ease-in-out infinite;
         filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
     }

     .form-footer {
         text-align: center;
         margin-top: 24px;
         font-size: 14px;
         color: #6b7886;
         border-top: 1px solid #f2f4f6;
         padding-top: 20px;
     }

     .form-footer a {
         color: #007aff;
         font-weight: 600;
         margin-left: 6px;
     }

     /* ÏïÑÏù¥ÏΩò Í∏∞Î≥∏ Ïä§ÌÉÄÏùº */
     .material-symbols-outlined {
         font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
         vertical-align: middle;
     }

     /* --- Ìë∏ÌÑ∞ --- */
     .augold-footer {
         background: linear-gradient(135deg, #1f2937, #111827);
         color: white;
         padding: 48px 0;
         margin-top: auto;
     }

     .footer-container {
         max-width: 1200px;
         margin: 0 auto;
         padding: 0 16px;
     }

     .footer-content {
         display: grid;
         grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
         gap: 32px;
         margin-bottom: 32px;
     }

     .footer-brand h3 {
         font-size: 24px;
         font-weight: bold;
         margin-bottom: 8px;
         background: linear-gradient(45deg, #ffd700, #ffb300);
         -webkit-background-clip: text;
         -webkit-text-fill-color: transparent;
         background-clip: text;
     }

     .footer-brand p {
         color: #9ca3af;
         font-size: 14px;
         line-height: 1.6;
     }

     .footer-section h4 {
         font-size: 16px;
         font-weight: 600;
         margin-bottom: 16px;
         color: #ffd700;
         position: relative;
     }

     .footer-section h4::after {
         content: '';
         position: absolute;
         bottom: -4px;
         left: 0;
         width: 30px;
         height: 2px;
         background: linear-gradient(90deg, #ffd700, transparent);
     }

     .footer-links {
         list-style: none;
         padding: 0;
         margin: 0;
     }

     .footer-links li {
         margin-bottom: 8px;
     }

     .footer-links a {
         color: #9ca3af;
         text-decoration: none;
         font-size: 14px;
         transition: all 0.3s ease;
         display: inline-block;
         position: relative;
     }

     .footer-links a:hover {
         color: #ffd700;
         transform: translateX(4px);
     }

     .contact-info p {
         color: #9ca3af;
         font-size: 14px;
         margin-bottom: 4px;
         display: flex;
         align-items: center;
         gap: 8px;
     }

     .footer-bottom {
         border-top: 1px solid #374151;
         margin-top: 32px;
         padding-top: 32px;
         text-align: center;
     }

     .footer-bottom p {
         color: #6b7280;
         font-size: 14px;
         margin: 0;
     }

     .social-links {
         display: flex;
         gap: 16px;
         margin-top: 16px;
         justify-content: center;
     }

     .social-links a {
         display: inline-flex;
         align-items: center;
         justify-content: center;
         width: 40px;
         height: 40px;
         background: #374151;
         border-radius: 50%;
         color: #9ca3af;
         text-decoration: none;
         transition: all 0.3s ease;
         font-size: 18px;
     }

     .social-links a:hover {
         background: linear-gradient(135deg, #ffd700, #ffb300);
         color: #1f2937;
         transform: translateY(-2px);
         box-shadow: 0 4px 12px rgba(255, 215, 0, 0.3);
     }

     /* SweetAlert2 Ïª§Ïä§ÌÖÄ Ïä§ÌÉÄÏùº */
     .swal-confirm-btn {
         background-color: #ffd700 !important;
         color: #8b4513 !important;
         font-weight: bold !important;
     }

     .swal-cancel-btn {
         background-color: #6b7280 !important;
         color: white !important;
     }

     /* Î∞òÏùëÌòï ÎîîÏûêÏù∏ */
     @media (max-width: 768px) {
         .header-content {
             flex-direction: column;
             gap: 16px;
         }

         .nav-section {
             gap: 16px;
         }

         .logo-text h1 {
             font-size: 20px;
         }

         .logo-icon {
             width: 35px;
             height: 35px;
         }

         .logo-icon span {
             font-size: 16px;
         }
     }

        .container {
          max-width: 1000px;
          margin: 0 auto;
          margin-bottom: 300px;
        }

        .page-header {
          background: #fff;
          padding: 30px 40px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          margin-bottom: 30px;
        }

        .page-header h2 {
          font-weight: 700;
          font-size: 2rem;
          margin: 0;
          color: #2c3e50;
        }

        .page-header p {
          margin: 8px 0 0 0;
          color: #666;
        }

        .order-list {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .order-card {
          background: #fff;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
          overflow: hidden;
          transition: transform 0.2s ease;
        }

        .order-card:hover {
          transform: translateY(-2px);
        }

        .order-header {
          padding: 20px 30px;
          border-bottom: 1px solid #eee;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .order-number {
          font-weight: 700;
          color: #2c3e50;
          font-size: 1.1rem;
        }

        .order-date {
          color: #666;
          font-size: 0.9rem;
        }

        .order-status {
          padding: 4px 12px;
          border-radius: 12px;
          font-size: 0.8rem;
          font-weight: 600;
        }

        .status-paid { background: #d1fae5; color: #065f46; }
        .status-preparing { background: #dbeafe; color: #1e40af; }
        .status-shipped { background: #e0e7ff; color: #5b21b6; }
        .status-delivered { background: #dcfce7; color: #166534; }
        .status-cancelled { background: #fee2e2; color: #991b1b; }

        .order-content {
          padding: 20px 30px;
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .product-image {
          width: 80px;
          height: 80px;
          border-radius: 8px;
          object-fit: cover;
          background: #f3f4f6;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 2rem;
        }

        .order-details {
          flex: 1;
        }

        .product-name {
          font-weight: 600;
          color: #2c3e50;
          margin-bottom: 4px;
        }

        .product-summary {
          color: #666;
          font-size: 0.9rem;
        }

        .order-price {
          text-align: right;
        }

        .price-amount {
          font-weight: 700;
          font-size: 1.3rem;
          color: #2c3e50;
        }

        .order-actions {
          padding: 20px 30px;
          border-top: 1px solid #eee;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .btn {
          padding: 8px 16px;
          border-radius: 5px;
          font-weight: 600;
          font-size: 0.9rem;
          text-decoration: none;
          border: none;
          cursor: pointer;
          transition: all 0.2s ease;
        }

        .btn-primary {
          background-color: #3498db;
          color: white;
        }

        .btn-primary:hover {
          background-color: #2980b9;
        }

        .btn-danger {
          background-color: #e74c3c;
          color: white;
        }

        .btn-danger:hover {
          background-color: #c0392b;
        }

        .btn-secondary {
          background-color: #95a5a6;
          color: white;
        }

        .empty-state {
          text-align: center;
          padding: 60px 20px;
          background: #fff;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .empty-state img {
          width: 120px;
          opacity: 0.6;
          margin-bottom: 20px;
        }

        /* Î™®Îã¨ Ïä§ÌÉÄÏùº - Î∂ÄÎìúÎü¨Ïö¥ Ïï†ÎãàÎ©îÏù¥ÏÖò */
        .modal {
          display: none;
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0,0,0,0.5);
          opacity: 0;
          transition: opacity 0.3s ease;
        }

        .modal-content {
          background-color: #fff;
          margin: 5% auto;
          padding: 30px;
          border-radius: 8px;
          width: 90%;
          max-width: 800px;
          max-height: 80vh;
          overflow-y: auto;
          transform: translateY(-20px);
          transition: transform 0.3s ease;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          padding-bottom: 15px;
          border-bottom: 1px solid #eee;
        }

        .close {
          color: #aaa;
          font-size: 28px;
          font-weight: bold;
          cursor: pointer;
        }

        .close:hover {
          color: #000;
        }

        .detail-item {
          display: flex;
          align-items: center;
          padding: 15px 0;
          border-bottom: 1px solid #f0f0f0;
        }

        .detail-item:last-child {
          border-bottom: none;
        }

        .detail-image {
          width: 60px;
          height: 60px;
          border-radius: 6px;
          object-fit: cover;
          background: #f3f4f6;
          margin-right: 15px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .detail-info {
          flex: 1;
        }

        .detail-price {
          text-align: right;
          font-weight: 600;
        }

        .total-price {
          font-size: 1.2rem;
          font-weight: 700;
          color: #2c3e50;
          text-align: right;
          padding-top: 15px;
          border-top: 2px solid #eee;
          margin-top: 15px;
        }

        .back-link {
             text-decoration: none;
             color: #333;
             display: inline-flex;
             align-items: center;
             justify-content: center;
        }
    </style>
</head>
<body>
<header>
    <div class="header-container">
        <div class="header-content">
            <a href="/" class="logo-section">
                <div class="logo-icon">
                    <span>A</span>
                </div>
                <div class="logo-text">
                    <h1>AuGold</h1>
                    <p>ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏à Ï†ÑÎ¨∏Î™∞</p>
                </div>
            </a>

            <nav class="nav-section">
                <!-- Î°úÍ∑∏Ïù∏ Ï†Ñ: Î°úÍ∑∏Ïù∏, ÌöåÏõêÍ∞ÄÏûÖ Î©îÎâ¥Îßå Î≥¥ÏûÑ -->
                <th:block th:if="${loginName == null}">
                    <a href="/login">Î°úÍ∑∏Ïù∏</a>
                    <a href="/customer/register">ÌöåÏõêÍ∞ÄÏûÖ</a>
                    <a href="#" onclick="loginRequired()">Í≥†Í∞ùÏÑºÌÑ∞</a>
                </th:block>

                <!-- Î°úÍ∑∏Ïù∏ ÌõÑ: ÌôòÏòÅ Î©îÏãúÏßÄ Î∞è Î™®Îì† Î©îÎâ¥Í∞Ä Î≥¥ÏûÑ -->
                <th:block th:if="${loginName != null}">
                    <span class="nav-text">[[${loginName}]]Îãò ÌôòÏòÅÌï©ÎãàÎã§</span>
                    <a href="/logout">Î°úÍ∑∏ÏïÑÏõÉ</a>
                    <a href="/support">Í≥†Í∞ùÏÑºÌÑ∞</a>
                    <a href="/mypage">ÎßàÏù¥ÌéòÏù¥ÏßÄ</a>
                    <a href="/cart">
                        Ïû•Î∞îÍµ¨Îãà
                        <!-- ÎèôÏ†Å Ïû•Î∞îÍµ¨Îãà Í∞úÏàò Î∞∞ÏßÄ -->
                        <span id="cartBadge" class="cart-badge hidden">0</span>
                    </a>
                </th:block>
            </nav>
        </div>
    </div>
</header>

<div class="container">
    <div class="page-header">
        <h2>Ï£ºÎ¨∏ ÎÇ¥Ïó≠</h2>
        <p th:text="${customerName} + 'ÎãòÏùò Ï£ºÎ¨∏ ÎÇ¥Ïó≠ÏûÖÎãàÎã§'">Í≥†Í∞ùÎãòÏùò Ï£ºÎ¨∏ ÎÇ¥Ïó≠ÏûÖÎãàÎã§</p>
    </div>

    <!-- Ï£ºÎ¨∏Ïù¥ ÏóÜÎäî Í≤ΩÏö∞ -->
    <div th:if="${#lists.isEmpty(orders)}" class="empty-state">
        <div style="font-size: 4rem; margin-bottom: 20px;">üì¶</div>
        <h3>ÏïÑÏßÅ Ï£ºÎ¨∏Ìïú ÏÉÅÌíàÏù¥ ÏóÜÏäµÎãàÎã§</h3>
        <p>AuGoldÏùò ÌîÑÎ¶¨ÎØ∏ÏóÑ Í≥®Îìú Ï†úÌíàÏùÑ ÎëòÎü¨Î≥¥ÏÑ∏Ïöî!</p>
        <a href="/category" class="btn btn-primary" style="margin-top: 20px;">ÏÉÅÌíà ÎëòÎü¨Î≥¥Í∏∞</a>
    </div>

    <!-- Ï£ºÎ¨∏ Î™©Î°ù -->
    <div th:if="${!#lists.isEmpty(orders)}" class="order-list">
        <div th:each="order, iterStat : ${orders}" class="order-card">
            <!-- Ï£ºÎ¨∏ Ìó§Îçî -->
            <div class="order-header">
                <div>
                    <div class="order-date" th:text="${#temporals.format(order.orderDate, 'yyyy.MM.dd HH:mm')}">2025.01.22 15:30</div>
                </div>
                <div th:switch="${order.orderStatus.name()}">
                    <span th:case="'PAID'" class="order-status status-paid" th:text="${order.orderStatus.description}">Í≤∞Ï†úÏôÑÎ£å</span>
                    <span th:case="'PREPARING'" class="order-status status-preparing" th:text="${order.orderStatus.description}">ÏÉÅÌíàÏ§ÄÎπÑÏ§ë</span>
                    <span th:case="'SHIPPED'" class="order-status status-shipped" th:text="${order.orderStatus.description}">Î∞∞ÏÜ°Ï§ë</span>
                    <span th:case="'DELIVERED'" class="order-status status-delivered" th:text="${order.orderStatus.description}">Î∞∞ÏÜ°ÏôÑÎ£å</span>
                    <span th:case="'CANCELLED'" class="order-status status-cancelled" th:text="${order.orderStatus.description}">Ï∑®ÏÜå</span>
                    <span th:case="'REFUNDED'" class="order-status status-cancelled" th:text="${order.orderStatus.description}">ÌôòÎ∂àÏôÑÎ£å</span>
                    <span th:case="*" class="order-status" th:text="${order.orderStatus.description}">Í∏∞ÌÉÄ</span>
                </div>
            </div>

            <!-- Ï£ºÎ¨∏ ÎÇ¥Ïö© -->
            <div class="order-content">
                <!-- Ïù¥ÎØ∏ÏßÄ ÌëúÏãú -->
                <div class="product-image">
                    <span th:if="${order.orderItems != null and !#lists.isEmpty(order.orderItems) and order.orderItems[0].imageUrl != null}">
                        <img th:src="${order.orderItems[0].imageUrl}"
                             th:alt="${order.orderItems[0].productName}"
                             style="width: 100%; height: 100%; object-fit: cover;">
                    </span>
                    <span th:unless="${order.orderItems != null and !#lists.isEmpty(order.orderItems) and order.orderItems[0].imageUrl != null}">üíé</span>
                </div>

                <div class="order-details">
                    <!-- ÏÉÅÌíàÎ™Ö ÌëúÏãú (ÏÉÅÌíàID ÎåÄÏã†) -->
                    <div class="product-name" th:if="${order.orderItems != null and #lists.size(order.orderItems) == 1}"
                         th:text="${order.orderItems[0].productName}">18K Í≥®Îìú Î∞òÏßÄ</div>
                    <div class="product-name" th:if="${order.orderItems != null and #lists.size(order.orderItems) > 1}"
                         th:text="${order.orderItems[0].productName} + ' Ïô∏ ' + (${#lists.size(order.orderItems)} - 1) + 'Ï¢Ö'">18K Í≥®Îìú Î∞òÏßÄ Ïô∏ 2Ï¢Ö</div>
                    <div class="product-summary" th:text="'Ï¥ù ' + ${order.totalItemCount} + 'Í∞ú ÏÉÅÌíà'">Ï¥ù 3Í∞ú ÏÉÅÌíà</div>
                </div>

                <div class="order-price">
                    <div class="price-amount" th:text="'‚Ç©' + ${#numbers.formatInteger(order.finalAmount, 3, 'COMMA')}">‚Ç©1,250,000</div>
                </div>
            </div>

            <!-- Ï£ºÎ¨∏ Ïï°ÏÖò -->
            <div class="order-actions">
                <div>
                    <button class="btn btn-primary"
                            th:data-order-number="${order.orderNumber}"
                            onclick="showOrderDetail(this.dataset.orderNumber)">ÏÉÅÏÑ∏Î≥¥Í∏∞</button>

                    <button th:if="${order.isCancellable()}"
                            class="btn btn-danger"
                            th:data-order-number="${order.orderNumber}"
                            onclick="cancelOrder(this.dataset.orderNumber)">Ï£ºÎ¨∏ Ï∑®ÏÜå</button>
                </div>
                <div>
                    <span th:if="${order.orderStatus.name() == 'DELIVERED'}" class="btn btn-secondary">Î¶¨Î∑∞ ÏûëÏÑ±</span>
                    <a href="/mypage" class="back-link">
                        <span class="material-symbols-outlined">arrow_back</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Ï£ºÎ¨∏ ÏÉÅÏÑ∏ Î™®Îã¨ -->
<div id="orderDetailModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Ï£ºÎ¨∏ ÏÉÅÏÑ∏ Ï†ïÎ≥¥</h2>
            <span class="close">√ó</span>
        </div>
        <div id="orderDetailContent">
            <!-- ÏÉÅÏÑ∏ ÎÇ¥Ïö©Ïù¥ ÎèôÏ†ÅÏúºÎ°ú Î°úÎìúÎê©ÎãàÎã§ -->
        </div>
    </div>
</div>

<footer class="augold-footer">
    <div class="footer-container">
        <div class="footer-content">
            <!-- Î∏åÎûúÎìú ÏÑπÏÖò -->
            <div class="footer-brand">
                <h3>AuGold</h3>
                <p>ÎØøÏùÑ Ïàò ÏûàÎäî ÌîÑÎ¶¨ÎØ∏ÏóÑ Í∏à Ï†ÑÎ¨∏ ÌîåÎû´Ìèº<br>
                    Í≥†ÌíàÏßà Í≥®ÎìúÎ∞îÎ∂ÄÌÑ∞ Îü≠ÏÖîÎ¶¨ Ï£ºÏñºÎ¶¨ÍπåÏßÄ<br>
                    ÎãπÏã†Ïùò ÏÜåÏ§ëÌïú Ìà¨ÏûêÎ•º Ìï®ÍªòÌï©ÎãàÎã§.</p>
            </div>

            <!-- Í≥†Í∞ùÏÑúÎπÑÏä§ ÏÑπÏÖò -->
            <div class="footer-section">
                <h4>Í≥†Í∞ùÏÑúÎπÑÏä§</h4>
                <ul class="footer-links">
                    <li><a href="/order/tracking">Ï£ºÎ¨∏/Î∞∞ÏÜ° Ï°∞Ìöå</a></li>
                    <li><a href="/support/return">Î∞òÌíà/ÍµêÌôò</a></li>
                    <li><a href="/support/faq">FAQ</a></li>
                    <li><a href="#" onclick="loginRequired()">1:1 Î¨∏Ïùò</a></li>
                </ul>
            </div>

            <!-- ÌöåÏÇ¨Ï†ïÎ≥¥ ÏÑπÏÖò -->
            <div class="footer-section">
                <h4>ÌöåÏÇ¨Ï†ïÎ≥¥</h4>
                <ul class="footer-links">
                    <li><a href="/company/about">ÌöåÏÇ¨ÏÜåÍ∞ú</a></li>
                    <li><a href="/legal/terms">Ïù¥Ïö©ÏïΩÍ¥Ä</a></li>
                    <li><a href="/legal/privacy">Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®</a></li>
                    <li><a href="/company/info">ÏÇ¨ÏóÖÏûêÏ†ïÎ≥¥</a></li>
                </ul>
            </div>

            <!-- Ïó∞ÎùΩÏ≤ò ÏÑπÏÖò -->
            <div class="footer-section">
                <h4>Ïó∞ÎùΩÏ≤ò</h4>
                <div class="contact-info">
                    <p>üìû 1588-1234</p>
                    <p>‚úâÔ∏è help@augold.co.kr</p>
                    <p>üïí ÌèâÏùº 09:00-18:00</p>
                    <p>üïí Ï£ºÎßê/Í≥µÌú¥Ïùº Ìú¥Î¨¥</p>
                </div>

                <!-- ÏÜåÏÖú ÎØ∏ÎîîÏñ¥ ÎßÅÌÅ¨ -->
                <div class="social-links">
                    <a href="#" title="Ïπ¥Ïπ¥Ïò§ÌÜ°">üí¨</a>
                    <a href="#" title="Ïù∏Ïä§ÌÉÄÍ∑∏Îû®">üì∑</a>
                    <a href="#" title="ÎÑ§Ïù¥Î≤Ñ Î∏îÎ°úÍ∑∏">üìù</a>
                </div>
            </div>
        </div>

        <!-- ÌïòÎã® Ï†ÄÏûëÍ∂å -->
        <div class="footer-bottom">
            <p>&copy; 2025 AuGold. All rights reserved. | ÎåÄÌëú: ÏûÑÏ±ÑÏó∞ | ÏÇ¨ÏóÖÏûêÎì±Î°ùÎ≤àÌò∏: 123-45-67890</p>
        </div>
    </div>
</footer>

<script>
    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú URL ÌååÎùºÎØ∏ÌÑ∞ ÌôïÏù∏ÌïòÏó¨ ÏÑ±Í≥µ/Ïã§Ìå® Î©îÏãúÏßÄ ÌëúÏãú
    document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);

        // Ï£ºÎ¨∏ Ï∑®ÏÜå ÏÑ±Í≥µ
        if (urlParams.get('cancelled') === 'true') {
            const orderNumber = urlParams.get('orderNumber');
            Swal.fire({
                title: 'Ï£ºÎ¨∏ Ï∑®ÏÜå ÏôÑÎ£å!',
                text: 'Ï£ºÎ¨∏Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§.',
                icon: 'success',
                confirmButtonText: 'ÌôïÏù∏',
                confirmButtonColor: '#3498db',
                timer: 3000,
                timerProgressBar: true
            });
        }

        // Ï£ºÎ¨∏ Ï∑®ÏÜå Ïã§Ìå®
        if (urlParams.get('error') === 'cancel') {
            const message = urlParams.get('message') || 'Ï£ºÎ¨∏ Ï∑®ÏÜå Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.';
            Swal.fire({
                title: 'Ï£ºÎ¨∏ Ï∑®ÏÜå Ïã§Ìå®',
                text: decodeURIComponent(message),
                icon: 'error',
                confirmButtonText: 'ÌôïÏù∏',
                confirmButtonColor: '#e74c3c'
            });
        }

        // ÏãúÏä§ÌÖú Ïò§Î•ò
        if (urlParams.get('error') === 'system') {
            Swal.fire({
                title: 'ÏãúÏä§ÌÖú Ïò§Î•ò',
                text: 'ÏùºÏãúÏ†ÅÏù∏ Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.',
                icon: 'error',
                confirmButtonText: 'ÌôïÏù∏',
                confirmButtonColor: '#e74c3c'
            });
        }
    });

    // Ï£ºÎ¨∏ ÏÉÅÏÑ∏Î≥¥Í∏∞ - Î∂ÄÎìúÎü¨Ïö¥ Î™®Îã¨
    function showOrderDetail(orderNumber) {
        // JSON API Ìò∏Ï∂ú (Î°úÎî© Ïä§ÌîºÎÑà ÏóÜÏù¥)
        fetch(`/order/api/${orderNumber}`)
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Ïã§Ï†ú Ï£ºÎ¨∏ Îç∞Ïù¥ÌÑ∞Î°ú Î™®Îã¨ ÎÇ¥Ïö© ÏÉùÏÑ±
                    const order = data.order;
                    let orderItemsHtml = '';

                    // Ï£ºÎ¨∏ ÏÉÅÌíàÎì§ HTML ÏÉùÏÑ±
                    if (order.orderItems && order.orderItems.length > 0) {
                        order.orderItems.forEach(item => {
                            // Ïã§Ï†ú ÏÉÅÌíà Ïù¥ÎØ∏ÏßÄ Ï≤òÎ¶¨
                            let imageHtml;
                            if (item.imageUrl) {
                                imageHtml = `<img src="${item.imageUrl}" alt="${item.productName}" style="width: 100%; height: 100%; object-fit: cover;">`;
                            } else {
                                imageHtml = 'üíé'; // Ïù¥ÎØ∏ÏßÄÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞ Í∏∞Î≥∏ Ïù¥Î™®ÏßÄ
                            }

                            orderItemsHtml += `
                                <div class="detail-item">
                                    <div class="detail-image">${imageHtml}</div>
                                    <div class="detail-info">
                                        <div><strong>${item.productName || 'ÏÉÅÌíàÎ™Ö ÏóÜÏùå'}</strong></div>
                                        <div>ÏàòÎüâ: ${item.quantity}Í∞ú</div>
                                        <div>Îã®Í∞Ä: ‚Ç©${item.unitPrice.toLocaleString()}</div>
                                    </div>
                                    <div class="detail-price">‚Ç©${item.finalAmount.toLocaleString()}</div>
                                </div>
                            `;
                        });
                    } else {
                        orderItemsHtml = '<div class="detail-item">Ï£ºÎ¨∏ ÏÉÅÌíà Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.</div>';
                    }

                    // Î™®Îã¨ ÎÇ¥Ïö© ÏÑ§Ï†ï
                    document.getElementById('orderDetailContent').innerHTML = `
                        <div style="padding: 20px;">
                            <div style="margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #eee;">
                                <h3>Ï£ºÎ¨∏Î≤àÌò∏: ${order.orderNumber}</h3>
                                <p>Ï£ºÎ¨∏ÏùºÏãú: ${new Date(order.orderDate).toLocaleString('ko-KR')}</p>
                                <p>Ï£ºÎ¨∏ÏÉÅÌÉú: <span class="order-status">${order.orderStatus.description}</span></p>
                                <p>Î∞∞ÏÜ°Ï£ºÏÜå: ${order.deliveryAddr}</p>
                                <p>Î∞∞ÏÜ°Ïó∞ÎùΩÏ≤ò: ${order.deliveryPhone}</p>
                            </div>

                            <div style="margin-bottom: 20px;">
                                <h4>Ï£ºÎ¨∏ ÏÉÅÌíà</h4>
                                ${orderItemsHtml}
                            </div>

                            <div class="total-price">
                                <div>Ï¥ù Ï£ºÎ¨∏Í∏àÏï°: ‚Ç©${order.totalAmount.toLocaleString()}</div>
                                <div style="font-size: 1.2rem; margin-top: 5px;">
                                    <strong>ÏµúÏ¢Ö Í≤∞Ï†úÍ∏àÏï°: ‚Ç©${order.finalAmount.toLocaleString()}</strong>
                                </div>
                            </div>
                        </div>
                    `;

                    // Î™®Îã¨ Î∂ÄÎìúÎüΩÍ≤å ÌëúÏãú
                    const modal = document.getElementById('orderDetailModal');
                    const modalContent = modal.querySelector('.modal-content');

                    modal.style.display = 'block';
                    modal.style.opacity = '0';
                    modalContent.style.transform = 'translateY(-20px)';

                    // ÏïΩÍ∞ÑÏùò ÏßÄÏó∞ ÌõÑ ÌéòÏù¥ÎìúÏù∏
                    setTimeout(() => {
                        modal.style.opacity = '1';
                        modalContent.style.transform = 'translateY(0)';
                    }, 10);

                } else {
                    // ÏóêÎü¨ Î©îÏãúÏßÄ ÌëúÏãú
                    Swal.fire({
                        title: 'Ï£ºÎ¨∏ Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®',
                        text: data.message || 'Ï£ºÎ¨∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.',
                        icon: 'error',
                        confirmButtonText: 'ÌôïÏù∏',
                        confirmButtonColor: '#e74c3c'
                    });
                }
            })
            .catch(error => {
                console.error('Ï£ºÎ¨∏ ÏÉÅÏÑ∏ Ï°∞Ìöå Ïò§Î•ò:', error);

                Swal.fire({
                    title: 'Ïò§Î•ò Î∞úÏÉù',
                    text: 'Ï£ºÎ¨∏ ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',
                    icon: 'error',
                    confirmButtonText: 'ÌôïÏù∏',
                    confirmButtonColor: '#e74c3c'
                });
            });
    }

    // Ï£ºÎ¨∏ Ï∑®ÏÜå - SweetAlert2 Ï†ÅÏö©
    function cancelOrder(orderNumber) {
        Swal.fire({
            title: 'Ï£ºÎ¨∏ÏùÑ Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå?',
            text: 'Ï∑®ÏÜåÎêú Ï£ºÎ¨∏ÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#e74c3c',
            cancelButtonColor: '#95a5a6',
            confirmButtonText: 'Ï∑®ÏÜåÌïòÍ∏∞',
            cancelButtonText: 'ÏïÑÎãàÏöî',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                // Ï∑®ÏÜå Ï≤òÎ¶¨ Ï§ë Î°úÎî© ÌëúÏãú
                Swal.fire({
                    title: 'Ï£ºÎ¨∏ Ï∑®ÏÜå Ï§ë...',
                    text: 'Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî.',
                    allowOutsideClick: false,
                    allowEscapeKey: false,
                    showConfirmButton: false,
                    didOpen: () => {
                        Swal.showLoading();
                    }
                });

                // Ìèº ÏÉùÏÑ± Î∞è Ï†ÑÏÜ°
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = `/order/${orderNumber}/cancel`;

                const reasonInput = document.createElement('input');
                reasonInput.type = 'hidden';
                reasonInput.name = 'cancelReason';
                reasonInput.value = 'Í≥†Í∞ù ÏöîÏ≤≠';
                form.appendChild(reasonInput);

                document.body.appendChild(form);
                form.submit();
            }
        });
    }

    // Î™®Îã¨ Î∂ÄÎìúÎüΩÍ≤å Îã´Í∏∞
    function closeModal() {
        const modal = document.getElementById('orderDetailModal');
        const modalContent = modal.querySelector('.modal-content');

        modal.style.opacity = '0';
        modalContent.style.transform = 'translateY(-20px)';

        setTimeout(() => {
            modal.style.display = 'none';
        }, 300);
    }

    // Î™®Îã¨ Îã´Í∏∞ Ïù¥Î≤§Ìä∏
    document.getElementsByClassName('close')[0].onclick = closeModal;

    window.onclick = function(event) {
        const modal = document.getElementById('orderDetailModal');
        if (event.target == modal) {
            closeModal();
        }
    }

    // ESC ÌÇ§Î°ú Î™®Îã¨ Îã´Í∏∞
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            const modal = document.getElementById('orderDetailModal');
            if (modal.style.display === 'block') {
                closeModal();
            }
        }
    });

    // Ïû•Î∞îÍµ¨Îãà Í∞úÏàò Í∏∞Îä•
    function updateCartCount() {
        fetch('/cart/count')
            .then(response => response.json())
            .then(count => {
                const cartBadge = document.getElementById('cartBadge');
                if (count > 0) {
                    cartBadge.textContent = count;
                    cartBadge.classList.remove('hidden');
                } else {
                    cartBadge.classList.add('hidden');
                }
            })
            .catch(error => {
                console.log('Ïû•Î∞îÍµ¨Îãà Í∞úÏàò Ï°∞Ìöå Ïã§Ìå®:', error);
            });
    }

    // Î°úÍ∑∏Ïù∏ ÌïÑÏöî ÏïåÎ¶º
    function loginRequired() {
        const isLoggedIn = document.querySelector('.nav-text') !== null;

        if (!isLoggedIn) {
            Swal.fire({
                title: 'Î°úÍ∑∏Ïù∏ ÌïÑÏöî',
                text: 'Î°úÍ∑∏Ïù∏ ÌõÑ Ïù¥Ïö© Í∞ÄÎä•Ìï©ÎãàÎã§.',
                icon: 'warning',
                confirmButtonText: 'Î°úÍ∑∏Ïù∏ÌïòÍ∏∞',
                confirmButtonColor: '#ffd700',
                cancelButtonText: 'Ï∑®ÏÜå',
                showCancelButton: true,
                customClass: {
                    confirmButton: 'swal-confirm-btn',
                    cancelButton: 'swal-cancel-btn'
                }
            }).then((result) => {
                if (result.isConfirmed) {
                    window.location.href = '/login';
                }
            });
        } else {
            window.location.href = '/support';
        }
    }

    // SweetAlert2 Í≥µÌÜµ Ìï®Ïàò
    function showAlert(message, type = 'info') {
        Swal.fire({
            title: type === 'success' ? 'ÏÑ±Í≥µ' : 'ÏïåÎ¶º',
            text: message,
            icon: type,
            confirmButtonText: 'ÌôïÏù∏',
            confirmButtonColor: '#ffd700',
            customClass: {
                confirmButton: 'swal-confirm-btn'
            }
        });
    }

    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïû•Î∞îÍµ¨Îãà Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏
    document.addEventListener('DOMContentLoaded', function() {
        updateCartCount();
    });
</script>

<!-- üî• 7Îã®Í≥Ñ: Thymeleaf ÏïåÎ¶º Ï≤òÎ¶¨ (ÌéòÏù¥ÏßÄÎ≥ÑÎ°ú ÌïÑÏöîÌïú Í≤ΩÏö∞) -->
<script th:inline="javascript">
    /*<![CDATA[*/
        var successMessage = [[${successMessage != null}]] ? '[[${successMessage}]]' : null;
        var errorMessage = [[${errorMessage != null}]] ? '[[${errorMessage}]]' : null;

        if(successMessage) showAlert(successMessage, 'success');
        if(errorMessage) showAlert(errorMessage, 'error');
    /*]]>*/
</script>
</body>
</html>